<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binaural Beats Generator</title>
</head>

<body>

    <h2>Binaural Beats Generator</h2>

    <div>
        <label>Volume: <span id="volumeValue">50</span>%</label>
        <input type="range" id="volumeSlider" min="0" max="100" value="50">
    </div>

    <div>
        <label>Core Frequency: <span id="coreFrequencyValue">440</span> Hz</label>
        <input type="range" id="coreFrequencySlider" min="30" max="1000" value="440">
    </div>

    <div>
        <label>Binaural Frequency Offset: <span id="frequencyValue">10</span> Hz</label>
        <input type="range" id="frequencyOffsetSlider" min="0" max="50" value="10">
    </div>

    <button id="playButtonBinaural">Play Binaural</button>

    <script>
      // Create an AudioContext for Binaural Audio
const audioContextBinaural = new (window.AudioContext || window.webkitAudioContext)();

// Elements
const playButtonBinaural = document.getElementById('playButtonBinaural');
const frequencyOffsetSlider = document.getElementById('frequencyOffsetSlider');
const coreFrequencySlider = document.getElementById('coreFrequencySlider');
const volumeSlider = document.getElementById('volumeSlider');

// Initial Values
let coreFrequency = 440;
let frequencyOffset = 10;
let volume = 0.5;

// Oscillators
let leftOscillator;
let rightOscillator;

// Gain (Volume Control)
const gainNode = audioContextBinaural.createGain();
gainNode.connect(audioContextBinaural.destination);

// Update functions
function updateCoreFrequency() {
    coreFrequency = coreFrequencySlider.value;
    document.getElementById('coreFrequencyValue').innerText = coreFrequency;
    if (leftOscillator) {
        leftOscillator.frequency.setValueAtTime(coreFrequency, audioContextBinaural.currentTime);
        rightOscillator.frequency.setValueAtTime(coreFrequency + frequencyOffset, audioContextBinaural.currentTime);
    }
}

function updateFrequencyOffset() {
    frequencyOffset = frequencyOffsetSlider.value;
    document.getElementById('frequencyValue').innerText = frequencyOffset;
    if (rightOscillator) {
        rightOscillator.frequency.setValueAtTime(coreFrequency + frequencyOffset, audioContextBinaural.currentTime);
    }
}

function updateVolume() {
    volume = volumeSlider.value / 100; // Convert to a value between 0 and 1
    document.getElementById('volumeValue').innerText = volumeSlider.value;
    gainNode.gain.setValueAtTime(volume, audioContextBinaural.currentTime);
}

// Event listeners
playButtonBinaural.addEventListener('click', function() {
    if (!leftOscillator) {
        // Create oscillators
        leftOscillator = audioContextBinaural.createOscillator();
        rightOscillator = audioContextBinaural.createOscillator();
        
        // Set frequencies
        leftOscillator.frequency.setValueAtTime(coreFrequency, audioContextBinaural.currentTime);
        rightOscillator.frequency.setValueAtTime(coreFrequency + frequencyOffset, audioContextBinaural.currentTime);
        
        // Connect to gain and to audio output
        leftOscillator.connect(gainNode);
        rightOscillator.connect(gainNode);

        // Start oscillators
        leftOscillator.start();
        rightOscillator.start();
        
        playButtonBinaural.innerText = "Stop Binaural";
    } else {
        leftOscillator.stop();
        rightOscillator.stop();
        leftOscillator = null;
        rightOscillator = null;
        
        playButtonBinaural.innerText = "Play Binaural";
    }
});

frequencyOffsetSlider.addEventListener('input', updateFrequencyOffset);
coreFrequencySlider.addEventListener('input', updateCoreFrequency);
volumeSlider.addEventListener('input', updateVolume);

    </script>

</body>
</html>
